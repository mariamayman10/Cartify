<div class="products mt-5">
  <div
    class="d-flex justify-content-center flex-wrap pt-5 px-lg-5 px-md-4 px-sm-3 px-3 mb-5 mt-3"
  >
    @for(product of products; track product._id){
    <div class="product pt-3 my-2 ms-2">
      <div class="product-img m-auto">
        <img [src]="imgDomain + product.cover" [alt]="product.name" />
        <div class="over-icons">
          <i
            class="fa-solid fa-heart my-2"
            (click)="addProductToWishlist(product._id)"
          ></i>
          <i
            class="fa-solid fa-eye mt-1"
            (click)="viewProductDetails(product._id)"
          ></i>
        </div>
      </div>
      <div class="product-info">
        <p class="product-name mt-2 mb-1 px-3">{{ product.name }}</p>
        <p class="product-description mt-2 mb-1 px-3">
          {{ product.description | description : 7 }}
        </p>
        <div class="product-prices d-flex px-3">
          <p class="product-price mb-4">{{ product.price | currency }}</p>
          @if(product.priceAfterDiscount){
          <span class="product-price-discount">
            &nbsp;
            {{ product.priceAfterDiscount }}</span
          >
          }
        </div>
        <div class="pb-3 last-row w-100 d-flex justify-content-between px-3">
          <button class="cart-btn" (click)="addProductToCart(product._id)">
            Add to Cart
          </button>
          <span class="ms-auto"
            ><i class="fa-solid fa-star"></i> {{ product.ratingAverage }}</span
          >
        </div>
      </div>
    </div>
    }
  </div>
  <div class="d-flex justify-content-center align-items-center mb-5">
    @if(pagination.currentPage! > 1){
    <button class="prev-icon" (click)="changePage(pagination.prev!)"><i class="fas fa-arrow-left"></i></button>
    }
    <p class="page mx-2">{{pagination.currentPage}}</p>
    @if(pagination.currentPage! < pagination.totalPages!){
    <button class="next-icon" (click)="changePage(pagination.next!)"><i class="fas fa-arrow-right"></i></button>
    }
  </div>
</div>
